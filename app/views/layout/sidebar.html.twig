<div class="col-sm-3 col-md-2 sidebar">
    {% if user.username is defined %}
        <div class="profile-sidebar-card">
            {% if user.avatar_url is defined %}
                <img src="{{ user.avatar_url }}" />
            {% endif %}
            <div>
                <span>{{ user.username }}</span>
            </div>
            <hr />
        </div>
    {% else %}
        {% include 'logo-app.html.twig' %}
    {% endif %}
    <ul class="nav nav-sidebar">
        <li id="ranking"><a href="{{ url('ranking') }}"> <span class="glyphicon glyphicon-list" aria-hidden="true"></span> Rankings <span class="sr-only">(current)</span></a></li>
        <li id="heroes"><a href="{{ url('users') }}"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Heroes <span class="sr-only">(current)</span></a></li>
        <li id="interactions"><a href="#"><span class="glyphicon glyphicon-cloud" aria-hidden="true"></span> Interactions<span class="sr-only">(current)</span></a></li>
        <div id="interactions-sub-menu" class="interactions-sub-menu">
            <ul class="nav-sidebar nav" class="interactions-sub-menu">
                <li id="participation-graph"><a href="{{ url('participation-graph', {'id':'participation'}) }}"><span class="glyphicon glyphicon-cloud" aria-hidden="true"></span> Participation<span class="sr-only">(current)</span></a></li>
                <li id="approval-graph"><a href="{{ url('participation-graph', {'id':'approval'}) }}"><span class="glyphicon glyphicon-cloud" aria-hidden="true"></span> Approval <span class="sr-only">(current)</span></a></li>
                <li id="changes-graph"><a href="{{ url('participation-graph', {'id':'changes'}) }}"><span class="glyphicon glyphicon-cloud" aria-hidden="true"></span> Change requests <span class="sr-only">(current)</span></a></li>
            </ul>
        </div>
        <li id="subscribe"><a href="{{ url('subscribe') }}"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Subscribe <span class="sr-only">(current)</span></a></li>
    </ul>
</div>

<script>
    $(document).ready(function(){

        $('#interactions-sub-menu').hide();

        $('#interactions').on('click', function(event){
            if ($('#interactions-sub-menu').is(":visible")) {
                event.preventDefault();
                $('#interactions-sub-menu').hide();
            } else {
                $('#interactions-sub-menu').show();
            }
        })
    });
</script>
